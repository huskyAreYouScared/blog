(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{213:function(s,t,a){"use strict";a.r(t);var e=a(0),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"项目初始化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目初始化"}},[s._v("#")]),s._v(" 项目初始化")]),s._v(" "),a("h4",{attrs:{id:"开发husky-subtitle是基于electron-vue这个脚手架进行开发的，有些插件和配置比较老，所以会遇到一些坑在这里记录一下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发husky-subtitle是基于electron-vue这个脚手架进行开发的，有些插件和配置比较老，所以会遇到一些坑在这里记录一下"}},[s._v("#")]),s._v(" 开发husky-subtitle是基于electron-vue这个脚手架进行开发的，有些插件和配置比较老，所以会遇到一些坑在这里记录一下")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/SimulatedGREG/electron-vue",target:"_blank",rel:"noopener noreferrer"}},[s._v("electron-vue GitHub传送门"),a("OutboundLink")],1)])]),s._v(" "),a("h3",{attrs:{id:"项目初始化-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目初始化-2"}},[s._v("#")]),s._v(" 项目初始化")]),s._v(" "),a("ul",[a("li",[s._v("这里默认大家安装了"),a("a",{attrs:{href:"https://cli.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[s._v("vue-cli"),a("OutboundLink")],1)])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("  vue init simulatedgreg/electron-vue my-project\n")])])]),a("ul",[a("li",[s._v("之后会问一些关于初始化项目配置的问题，按照个人需求选择即可")])]),s._v(" "),a("h3",{attrs:{id:"首先解决electron下载慢和node-sass失败的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#首先解决electron下载慢和node-sass失败的问题"}},[s._v("#")]),s._v(" 首先解决electron下载慢和node-sass失败的问题")]),s._v(" "),a("ul",[a("li",[s._v("在项目/目录，新建 .npmrc文件")]),s._v(" "),a("li",[s._v("🐨 将仓库指定到国内的taobao源")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("  "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("registry")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://registry.npm.taobao.org\n  "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("sass_binary_site")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://npm.taobao.org/mirrors/node-sass/\n  "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("electron_mirror")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://npm.taobao.org/mirrors/electron\n")])])]),a("h3",{attrs:{id:"electron版本升级到v7-1-9lts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#electron版本升级到v7-1-9lts"}},[s._v("#")]),s._v(" electron版本升级到V7.1.9LTS")]),s._v(" "),a("ul",[a("li",[s._v("在package.json文件中将electron的版本 V2.x --\x3e V7.1.9")])]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"devDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"electron"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^2.0.4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"electron"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^7.1.9"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"electron-debug"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^1.5.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n")])])]),a("ul",[a("li",[s._v("但是通过上面的步骤配置完成要安装electron V7.1.9版本会报错，经过查资料发现居然要换一下electron 的镜像，可能后面会修复这个问题")]),s._v(" "),a("li",[s._v("🐨 修改electron_mirror镜像地址")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("  "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("registry")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://registry.npm.taobao.org\n  "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("sass_binary_site")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://npm.taobao.org/mirrors/node-sass/\n  "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("electron_mirror")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://cdn.npm.taobao.org/dist/electron/\n\n  // 时间：2020.1.19\n")])])]),a("ul",[a("li",[s._v("接下来在node_modules文件夹中删除electron然后重新 npm install or yarn install")])]),s._v(" "),a("h3",{attrs:{id:"安装好dependencies之后，运行npm-run-dev-如果又遇到了process报错，如下图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装好dependencies之后，运行npm-run-dev-如果又遇到了process报错，如下图"}},[s._v("#")]),s._v(" 安装好dependencies之后，运行npm run dev,如果又遇到了process报错，如下图")]),s._v(" "),a("p",[s._v("🐨\n"),a("img",{attrs:{src:s.$withBase("/image/electron-process-error.png"),alt:"dock"}})]),s._v(" "),a("h3",{attrs:{id:"解决办法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决办法"}},[s._v("#")]),s._v(" 解决办法")]),s._v(" "),a("ul",[a("li",[s._v("在/src/main/index.js文件中加入代码")])]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在createWindow函数中新增")]),s._v("\n  mainWindow "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BrowserWindow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    height"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("563")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    useContentSize"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    width"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("   webPreferences"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("    nodeIntegration"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("ul",[a("li",[s._v("默认集成node是false,所以我们改成true即可\n"),a("a",{attrs:{href:"https://electronjs.org/docs/api/browser-window#new-browserwindowoptions",target:"_blank",rel:"noopener noreferrer"}},[s._v("相应文档"),a("OutboundLink")],1)])]),s._v(" "),a("h4",{attrs:{id:"到这里项目就可以正常通过-npm-run-dev-启动了"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#到这里项目就可以正常通过-npm-run-dev-启动了"}},[s._v("#")]),s._v(" 到这里项目就可以正常通过 npm run dev 启动了")]),s._v(" "),a("h5",{attrs:{id:"考拉-因为澳大利亚大火很多动物遇难，希望大火早日熄灭-2020-1-19"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#考拉-因为澳大利亚大火很多动物遇难，希望大火早日熄灭-2020-1-19"}},[s._v("#")]),s._v(" 🐨 考拉 因为澳大利亚大火很多动物遇难，希望大火早日熄灭 --2020.1.19")])])}),[],!1,null,null,null);t.default=r.exports}}]);