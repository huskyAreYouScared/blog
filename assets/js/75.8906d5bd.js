(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{286:function(s,a,t){"use strict";t.r(a);var n=t(2),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"自动更新日志"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自动更新日志"}},[s._v("#")]),s._v(" 自动更新日志")]),s._v(" "),t("ul",[t("li",[s._v("需要插件conventional-changelog-cli + commitizen")])]),s._v(" "),t("h2",{attrs:{id:"第一步"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第一步"}},[s._v("#")]),s._v(" 第一步")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("div",{staticClass:"highlight-lines"},[t("div",{staticClass:"highlighted"},[s._v(" ")]),t("br")]),t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g conventional-changelog-cli\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("安装成功之后需要如果在命令行 找不到conventional-changelog这个命令需要去配置"),t("a",{attrs:{href:"https://www.baidu.com/s?wd=%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F",target:"_blank",rel:"noopener noreferrer"}},[s._v("环境变量"),t("OutboundLink")],1)])]),s._v(" "),t("h2",{attrs:{id:"第二步"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第二步"}},[s._v("#")]),s._v(" 第二步")]),s._v(" "),t("ul",[t("li",[s._v("进入到要生成日志的项目中")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("div",{staticClass:"highlight-lines"},[t("div",{staticClass:"highlighted"},[s._v(" ")]),t("br")]),t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("  conventional-changelog -p angular -i CHANGELOG.md -s\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("此时根目录下就会生成 CHANGELOG.md文件")])]),s._v(" "),t("h2",{attrs:{id:"第三步"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第三步"}},[s._v("#")]),s._v(" 第三步")]),s._v(" "),t("ul",[t("li",[s._v("安装git commit 规范提交的插件,这里我用了"),t("a",{attrs:{href:"https://www.npmjs.com/package/commitizen",target:"_blank",rel:"noopener noreferrer"}},[s._v("commitizen"),t("OutboundLink")],1)])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("div",{staticClass:"highlight-lines"},[t("div",{staticClass:"highlighted"},[s._v(" ")]),t("br")]),t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g commitizen\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("然后初始化您的项目以使用cz-conventional-changelog适配器")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("div",{staticClass:"highlight-lines"},[t("div",{staticClass:"highlighted"},[s._v(" ")]),t("br")]),t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("  commitizen init cz-conventional-changelog --save-dev --save-exact\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"第四步"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第四步"}},[s._v("#")]),s._v(" 第四步")]),s._v(" "),t("ul",[t("li",[s._v("之前是使用git commit来提交，现在可以使用 git cz来提交，然后就按照命令行的提示一步一步填写即可")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("  ? Select the "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" of change that you're committing: perf:     A code change that improves performance\n  ? What is the scope of this change "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e.g. component or "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("press enter to skip"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n  ? Write a short, imperative tense description of the change "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("max "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("94")]),s._v(" chars"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" conventional-changelog\n  ? Provide a longer description of the change: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("press enter to skip"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  \n  ? Are there any breaking changes? No\n  ? Does this change affect any "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" issues? No\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"第五步"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第五步"}},[s._v("#")]),s._v(" 第五步")]),s._v(" "),t("ul",[t("li",[s._v("改变CHANGELOG文件和package的版本号，在package文件中新增加命令version")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('  // package.json\n  "scripts":{\n    ···\n    "version": "conventional-changelog -p angular -i CHANGELOG.md -s && git add CHANGELOG.md"\n    ···\n  }\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("ul",[t("li",[s._v("添加好之后执行命令")]),s._v(" "),t("li",[s._v("version 后面可以写major/minor/patch，分别对应主要版本、次要版本、补丁 （v0.0.1）")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("div",{staticClass:"highlight-lines"},[t("div",{staticClass:"highlighted"},[s._v(" ")]),t("br")]),t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version minor -m "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'description'")]),s._v("\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("此时就将git 提交的信息写入CHANGELOG了，package.json中的version（major/minor/patch）也会更新")])]),s._v(" "),t("h2",{attrs:{id:"别忘了提交"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#别忘了提交"}},[s._v("#")]),s._v(" 别忘了提交")])])}),[],!1,null,null,null);a.default=e.exports}}]);